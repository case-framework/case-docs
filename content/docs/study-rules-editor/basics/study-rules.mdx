---
title: Rules in Study Context 
description: How study rules work
---

####  Rules in the Study Context 

**Definition:**  
Rules are automated actions that are triggered when certain conditions on participant data are met. They allow you to define *if–then* logic within your study so that specific operations are executed dynamically.  

**How they work:**  
- A rule consists of two parts:  
  1. **Conditional expression** – this is the *if* part. It evaluates participant data (e.g., survey responses, flags, or context variables).  
  2. **Action** – this is the *then* part. If the condition is true, the action is executed.  

**Example:**  
- *Condition:* The participant's age is less than 18.  
- *Action:* Set the participant's age category to *child*.  

**Purpose:**  
Rules help automate study workflows by:  
    - enforcing logic across surveys,
    - classifying or segmenting participants,
    - triggering follow-up surveys or notifications,
    - ensuring data consistency and validity, 
    - integrate external services.

## Conditions

### Comparison Conditions  

Comparison conditions check whether a value associated with the participant matches or differs from a defined value.  
They include **equals, less than, less than or equal, greater than, and greater than or equal**.  
Use these when you want rules to trigger only if numeric or date responses fall inside or outside specific thresholds.  
**Example:** Assign a follow-up survey only if the participant’s age is greater than or equal to 18.  

---

### Event Properties

#### 1. **Check event type**  
* **Meaning:** True if the event matches a specific type (e.g., submit, timer, custom...).  
* **Use Case:** Run action only for certain event categories.  
* **How it works:** Select the event type.  


#### 2. **Current event is submission of survey with key**  
* **Meaning:** True if the event is the submission of a defined survey.  
* **Use Case:** Trigger actions only when a specific survey is completed.  
* **How it works:** Enter the survey key.  


#### 3. **Custom event with key**  
* **Meaning:** True if the event is a custom one identified by its key.  
* **Use Case:** React to special user actions or system events.  
* **How it works:** Provide the custom event key.  


#### 4. **Has (any) event payload**  
* **Meaning:** True if the event contains additional data.  
* **Use Case:** Run actions only when extra information is attached.  
* **How it works:** No input required.  


#### 5. **Has event payload with key**  
* **Meaning:** True if the payload includes a given key.  
* **Use Case:** Check for specific structured data in the event.  
* **How it works:** Enter the key to check.  


#### 6. **Has event payload with key and value**  
* **Meaning:** True if the payload contains a key with a matching value.  
* **Use Case:** Filter events by exact data content.  
* **How it works:** Enter both key and expected value.  

---
### Advanced

#### 1. Is study code present
**Meaning:** Checks if a study code has been assigned to the participant.  
**Use case:** Use when actions should only apply to coded participants.  
**How it works:** Condition is true when a specified study code exists in a list of codes.

---

### Response checkers

#### 1. Response contains any of these keys
**Meaning:** Checks if a participant’s response includes one of the specified keys.  
**Use case:** Use when multiple acceptable responses can trigger the rule.  
**How it works:** Condition is true if at least one key matches.


#### 2. Has response but none of these keys
**Meaning:** Checks if a response exists but excludes specific keys.  
**Use case:** Use when certain answers should be filtered out.  
**How it works:** Condition is true only if none of the listed keys are present.


#### 3. A specific response is present
**Meaning:** Checks if a participant gave a defined response.  
**Use case:** Use when rules should depend on a particular answer.  
**How it works:** Condition is true when the specified response is detected.


#### 4. A specific response key is present and has a specific value
**Meaning:** Checks if a response key matches a defined value.  
**Use case:** Use when precise matching of responses is required.  
**How it works:** Condition is true only when both key and value match.


#### 5. Check condition for old responses
**Meaning:** Allows conditions to check past responses, not only the latest.  
**Use case:** Use when earlier answers should influence current rules.  
**How it works:** Condition is evaluated against stored reponses from old surveys.


#### 6. Consent accepted
**Meaning:** Checks if the participant has provided consent.  
**Use case:** Use when study actions must only apply to consenting participants.  
**How it works:** Condition is true once consent with specified key is recorded.

---

### Particpant state checkers

#### 1. **Has a survey with key assigned**  
* **Meaning:** True if the participant has a specific survey assigned.  
* **Use Case:** Check whether a survey is already linked to the participant.  
* **How it works:** Enter the survey key.  

---

#### 2. **Is survey in active window (template)**  
* **Meaning:** True if the assigned survey is currently in its active time window.  
* **Use Case:** Trigger actions only while the survey is available to complete.  
* **How it works:** Define the survey and its time window.  

---

#### 3. **Survey assignment start is before reference time (template)**  
* **Meaning:** True if the survey assignment start date is before a given reference time.  
* **Use Case:** Check whether a survey was made available before a specific time.  
* **How it works:** Provide the survey key and reference time.  

---

#### 4. **Survey assignment end is before reference time (template)**  
* **Meaning:** True if the survey assignment end date is before a given reference time.  
* **Use Case:** Check whether a survey expired before a specific time.  
* **How it works:** Provide the survey key and reference time.  


#### 5. **Has study status**  
* **Meaning:** True if the participant has the defined study status.  
* **Use Case:** Apply rules depending on participant’s current study role or status.  
* **How it works:** Select the study status.  

## Numbers and dates

## Actions