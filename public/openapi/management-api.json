{
  "openapi": "3.1.0",
  "info": {
    "title": "Management API",
    "version": "1.0.0",
    "description": "Endpoints for management authentication, user management, study administration, messaging, and participant administration."
  },
  "tags": [
    { "name": "auth", "description": "Authentication & Session" },
    { "name": "studies", "description": "Study management" },
    { "name": "surveys", "description": "Survey management" },
    { "name": "study-rules", "description": "Study rules" },
    { "name": "study-variables", "description": "Study variables" },
    { "name": "study-counters", "description": "Study counters" },
    { "name": "study-permissions", "description": "Permissions for a study" },
    { "name": "notifications", "description": "Notification subscriptions" },
    { "name": "code-lists", "description": "Study code lists" },
    { "name": "participants", "description": "Participant operations" },
    { "name": "reports", "description": "Participant reports" },
    { "name": "responses", "description": "Response exports & queries" },
    { "name": "files", "description": "File management for studies" },
    { "name": "messaging", "description": "Messaging templates & scheduled emails" },
    { "name": "user-management", "description": "Management users, service accounts & app roles" }
  ],
  "paths": {
    "/v1/auth/signin-with-idp": { "$ref": "./management-api/management-auth.json#/~1v1~1auth~1signin-with-idp" },
    "/v1/auth/extend-session": { "$ref": "./management-api/management-auth.json#/~1v1~1auth~1extend-session" },
    "/v1/auth/renew-token/{sessionID}": { "$ref": "./management-api/management-auth.json#/~1v1~1auth~1renew-token~1{sessionID}" },
    "/v1/auth/permissions": { "$ref": "./management-api/management-auth.json#/~1v1~1auth~1permissions" },
    "/v1/studies/{studyKey}/participants/virtual": { "$ref": "./management-api/participant-management.json#/~1v1~1studies~1{studyKey}~1participants~1virtual" },
    "/v1/studies/{studyKey}/participants/{participantID}/responses": { "$ref": "./management-api/participant-management.json#/~1v1~1studies~1{studyKey}~1participants~1{participantID}~1responses" },
    "/v1/studies/{studyKey}/participants/{participantID}/events": { "$ref": "./management-api/participant-management.json#/~1v1~1studies~1{studyKey}~1participants~1{participantID}~1events" },
    "/v1/studies/{studyKey}/participants/{participantID}/reports": { "$ref": "./management-api/participant-management.json#/~1v1~1studies~1{studyKey}~1participants~1{participantID}~1reports" },
    "/v1/studies/{studyKey}/participants/{participantID}/reports/{reportID}": { "$ref": "./management-api/participant-management.json#/~1v1~1studies~1{studyKey}~1participants~1{participantID}~1reports~1{reportID}" },
    "/v1/studies/{studyKey}/participants/merge": { "$ref": "./management-api/participant-management.json#/~1v1~1studies~1{studyKey}~1participants~1merge" },
    "/v1/studies/{studyKey}/participants/{participantID}": { "$ref": "./management-api/participant-management.json#/~1v1~1studies~1{studyKey}~1participants~1{participantID}" },
    "/v1/messaging/email-templates/global-templates": { "$ref": "./management-api/messaging-service.json#/~1v1~1messaging~1email-templates~1global-templates" },
    "/v1/messaging/email-templates/global-templates/{messageType}": { "$ref": "./management-api/messaging-service.json#/~1v1~1messaging~1email-templates~1global-templates~1{messageType}" },
    "/v1/messaging/email-templates/study-templates": { "$ref": "./management-api/messaging-service.json#/~1v1~1messaging~1email-templates~1study-templates" },
    "/v1/messaging/email-templates/study-templates/{studyKey}": { "$ref": "./management-api/messaging-service.json#/~1v1~1messaging~1email-templates~1study-templates~1{studyKey}" },
    "/v1/messaging/email-templates/study-templates/{studyKey}/{messageType}": { "$ref": "./management-api/messaging-service.json#/~1v1~1messaging~1email-templates~1study-templates~1{studyKey}~1{messageType}" },
    "/v1/messaging/sms-templates/": { "$ref": "./management-api/messaging-service.json#/~1v1~1messaging~1sms-templates~1" },
    "/v1/messaging/sms-templates/{messageType}": { "$ref": "./management-api/messaging-service.json#/~1v1~1messaging~1sms-templates~1{messageType}" },
    "/v1/messaging/scheduled-emails/": { "$ref": "./management-api/messaging-service.json#/~1v1~1messaging~1scheduled-emails~1" },
    "/v1/messaging/scheduled-emails/{id}": { "$ref": "./management-api/messaging-service.json#/~1v1~1messaging~1scheduled-emails~1{id}" },
    "/v1/studies/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1" },
    "/v1/studies/{studyKey}/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1" },
    "/v1/studies/{studyKey}/export-config": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1export-config" },
    "/v1/studies/{studyKey}/is-default": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1is-default" },
    "/v1/studies/{studyKey}/status": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1status" },
    "/v1/studies/{studyKey}/display-props": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1display-props" },
    "/v1/studies/{studyKey}/file-upload-config": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1file-upload-config" },
    "/v1/studies/{studyKey}/surveys/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1surveys~1" },
    "/v1/studies/{studyKey}/surveys/{surveyKey}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1surveys~1{surveyKey}" },
    "/v1/studies/{studyKey}/surveys/{surveyKey}/unpublish": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1surveys~1{surveyKey}~1unpublish" },
    "/v1/studies/{studyKey}/surveys/{surveyKey}/versions": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1surveys~1{surveyKey}~1versions" },
    "/v1/studies/{studyKey}/surveys/{surveyKey}/versions/{versionID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1surveys~1{surveyKey}~1versions~1{versionID}" },
    "/v1/studies/{studyKey}/permissions/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1permissions~1" },
    "/v1/studies/{studyKey}/permissions/{permissionID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1permissions~1{permissionID}" },
    "/v1/studies/{studyKey}/notification-subscriptions/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1notification-subscriptions~1" },
    "/v1/studies/{studyKey}/study-code-list/list-keys": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1study-code-list~1list-keys" },
    "/v1/studies/{studyKey}/study-code-list/codes": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1study-code-list~1codes" },
    "/v1/studies/{studyKey}/study-counters/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1study-counters~1" },
    "/v1/studies/{studyKey}/study-counters/{scope}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1study-counters~1{scope}" },
    "/v1/studies/{studyKey}/variables/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1variables~1" },
    "/v1/studies/{studyKey}/variables/{variableKey}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1variables~1{variableKey}" },
    "/v1/studies/{studyKey}/variables/{variableKey}/value": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1variables~1{variableKey}~1value" },
    "/v1/studies/{studyKey}/rules/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1rules~1" },
    "/v1/studies/{studyKey}/rules/versions": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1rules~1versions" },
    "/v1/studies/{studyKey}/rules/versions/{id}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1rules~1versions~1{id}" },
    "/v1/studies/{studyKey}/run-actions/participants/{participantID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1run-actions~1participants~1{participantID}" },
    "/v1/studies/{studyKey}/run-actions/participants/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1run-actions~1participants~1" },
    "/v1/studies/{studyKey}/run-actions/participants/task/{taskID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1run-actions~1participants~1task~1{taskID}" },
    "/v1/studies/{studyKey}/run-actions/participants/task/{taskID}/result": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1run-actions~1participants~1task~1{taskID}~1result" },
    "/v1/studies/{studyKey}/run-actions/previous-responses/{participantID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1run-actions~1previous-responses~1{participantID}" },
    "/v1/studies/{studyKey}/run-actions/previous-responses/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1run-actions~1previous-responses~1" },
    "/v1/studies/{studyKey}/run-actions/previous-responses/task/{taskID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1run-actions~1previous-responses~1task~1{taskID}" },
    "/v1/studies/{studyKey}/run-actions/previous-responses/task/{taskID}/result": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1run-actions~1previous-responses~1task~1{taskID}~1result" },
    "/v1/studies/{studyKey}/data-exporter/survey-info/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1survey-info~1" },
    "/v1/studies/{studyKey}/data-exporter/responses/count": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1responses~1count" },
    "/v1/studies/{studyKey}/data-exporter/responses/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1responses~1" },
    "/v1/studies/{studyKey}/data-exporter/responses/task/{taskID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1responses~1task~1{taskID}" },
    "/v1/studies/{studyKey}/data-exporter/responses/task/{taskID}/result": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1responses~1task~1{taskID}~1result" },
    "/v1/studies/{studyKey}/data-exporter/responses/daily-exports": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1responses~1daily-exports" },
    "/v1/studies/{studyKey}/data-exporter/responses/daily-exports/{exportID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1responses~1daily-exports~1{exportID}" },
    "/v1/studies/{studyKey}/data-exporter/participants/count": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1participants~1count" },
    "/v1/studies/{studyKey}/data-exporter/participants/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1participants~1" },
    "/v1/studies/{studyKey}/data-exporter/participants/task/{taskID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1participants~1task~1{taskID}" },
    "/v1/studies/{studyKey}/data-exporter/participants/task/{taskID}/result": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1participants~1task~1{taskID}~1result" },
    "/v1/studies/{studyKey}/data-exporter/reports/count": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1reports~1count" },
    "/v1/studies/{studyKey}/data-exporter/reports/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1reports~1" },
    "/v1/studies/{studyKey}/data-exporter/reports/task/{taskID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1reports~1task~1{taskID}" },
    "/v1/studies/{studyKey}/data-exporter/reports/task/{taskID}/result": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1reports~1task~1{taskID}~1result" },
    "/v1/studies/{studyKey}/data-exporter/confidential-responses/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1confidential-responses~1" },
    "/v1/studies/{studyKey}/data-exporter/confidential-responses/{exportID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-exporter~1confidential-responses~1{exportID}" },
    "/v1/studies/{studyKey}/data-explorer/responses/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-explorer~1responses~1" },
    "/v1/studies/{studyKey}/data-explorer/responses/{responseId}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-explorer~1responses~1{responseId}" },
    "/v1/studies/{studyKey}/data-explorer/participants/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-explorer~1participants~1" },
    "/v1/studies/{studyKey}/data-explorer/participants/{participantID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-explorer~1participants~1{participantID}" },
    "/v1/studies/{studyKey}/data-explorer/reports/keys": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-explorer~1reports~1keys" },
    "/v1/studies/{studyKey}/data-explorer/reports/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-explorer~1reports~1" },
    "/v1/studies/{studyKey}/data-explorer/reports/{reportID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-explorer~1reports~1{reportID}" },
    "/v1/studies/{studyKey}/data-explorer/files/": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-explorer~1files~1" },
    "/v1/studies/{studyKey}/data-explorer/files/{fileID}": { "$ref": "./management-api/study-management.json#/~1v1~1studies~1{studyKey}~1data-explorer~1files~1{fileID}" },
    "/v1/user-management/management-users": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1management-users" },
    "/v1/user-management/management-users/{userID}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1management-users~1{userID}" },
    "/v1/user-management/management-users/{userID}/permissions": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1management-users~1{userID}~1permissions" },
    "/v1/user-management/management-users/{userID}/permissions/{permissionID}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1management-users~1{userID}~1permissions~1{permissionID}" },
    "/v1/user-management/management-users/{userID}/permissions/{permissionID}/limiter": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1management-users~1{userID}~1permissions~1{permissionID}~1limiter" },
    "/v1/user-management/management-users/{userID}/app-roles": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1management-users~1{userID}~1app-roles" },
    "/v1/user-management/management-users/{userID}/app-roles/{appRoleTemplateID}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1management-users~1{userID}~1app-roles~1{appRoleTemplateID}" },
    "/v1/user-management/management-users/{userID}/app-roles/{appRoleID}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1management-users~1{userID}~1app-roles~1{appRoleID}" },
    "/v1/user-management/app-roles/templates/": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1app-roles~1templates~1" },
    "/v1/user-management/app-roles/templates/{appRoleTemplateID}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1app-roles~1templates~1{appRoleTemplateID}" },
    "/v1/user-management/app-roles/templates/delete/{appRoleTemplateID}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1app-roles~1templates~1delete~1{appRoleTemplateID}" },
    "/v1/user-management/app-roles/templates/delete-for-app/{appName}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1app-roles~1templates~1delete-for-app~1{appName}" },
    "/v1/user-management/app-roles/": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1app-roles~1" },
    "/v1/user-management/app-roles/delete/{appName}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1app-roles~1delete~1{appName}" },
    "/v1/user-management/participant-users/request-deletion": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1participant-users~1request-deletion" },
    "/v1/user-management/service-accounts/": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1service-accounts~1" },
    "/v1/user-management/service-accounts/{serviceAccountID}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1service-accounts~1{serviceAccountID}" },
    "/v1/user-management/service-accounts/{serviceAccountID}/api-keys": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1service-accounts~1{serviceAccountID}~1api-keys" },
    "/v1/user-management/service-accounts/{serviceAccountID}/api-keys/{apiKeyID}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1service-accounts~1{serviceAccountID}~1api-keys~1{apiKeyID}" },
    "/v1/user-management/service-accounts/{serviceAccountID}/permissions": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1service-accounts~1{serviceAccountID}~1permissions" },
    "/v1/user-management/service-accounts/{serviceAccountID}/permissions/{permissionID}": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1service-accounts~1{serviceAccountID}~1permissions~1{permissionID}" },
    "/v1/user-management/service-accounts/{serviceAccountID}/permissions/{permissionID}/limiter": { "$ref": "./management-api/user-management.json#/~1v1~1user-management~1service-accounts~1{serviceAccountID}~1permissions~1{permissionID}~1limiter" }
  },
  "components": {
   "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "responses": {
      "Error400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Error"}}}},
      "Error401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Error"}}}},
      "Error403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Error"}}}},
      "Error404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Error"}}}},
      "Error429": {"description": "Too Many Requests", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Error"}}}},
      "Error500": {"description": "Internal Server Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Error"}}}}
    },
    "schemas": {
      "Message": {
        "type": "object",
        "properties": { "message": { "type": "string" } },
        "additionalProperties": false
      },
      "Error": {
        "type": "object",
        "properties": { "error": { "type": "string" } },
        "additionalProperties": false
      },
      "User": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "account": { "$ref": "#/components/schemas/Account" },
          "timestamps": { "$ref": "#/components/schemas/Timestamps" },
          "profiles": { "type": "array", "items": { "$ref": "#/components/schemas/Profile" } },
          "contactPreferences": { "$ref": "#/components/schemas/ContactPreferences" },
          "contactInfos": { "type": "array", "items": { "$ref": "#/components/schemas/ContactInfo" } }
        },
        "additionalProperties": false
      },
      "Account": {
        "type": "object",
        "properties": { 
          "type": { "type": "string" }, 
          "accountID": { "type": "string" } },
        "additionalProperties": true
      },
      "Timestamps": {
        "type": "object",
        "properties": {
          "lastTokenRefresh": { "type": "integer" },
          "lastLogin": { "type": "integer" },
          "createdAt": { "type": "integer" },
          "updatedAt": { "type": "integer" },
          "lastPasswordChange": { "type": "integer" },
          "reminderToConfirmSentAt": { "type": "integer" },
          "markedForDeletion": { "type": "integer" }
        },
        "additionalProperties": false
      },
      "Profile": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "createdAt": { "type": "integer" },
          "mainProfile": { "type": "boolean" }
        },
        "additionalProperties": true
      },
      "ContactPreferences": {
        "type": "object",
        "properties": { "sendNewsletterTo": { "type": "array", "items": { "type": "string" } } },
        "additionalProperties": true
      },
      "ContactInfo": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "type": { "type": "string", "enum": ["email", "phone"] },
          "email": { "type": "string" },
          "phone": { "type": "string" },
          "confirmedAt": { "type": "integer" },
          "confirmationLinkSentAt": { "type": "integer" }
        },
        "additionalProperties": false
      },
      "Study": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID", "example": "64b8f0f2e1b1c8a1d2e3f4g5" },
          "key": { "type": "string" },
          "secretKey": { "type": "string" },
          "status": { "type": "string" },
          "props": { "type": "object", "additionalProperties": true },
          "configs": { "type": "object", "additionalProperties": true },
          "notificationSubscriptions": {
            "type": "array",
            "items": { "type": "object", "additionalProperties": true }
          },
          "stats": { "type": "object", "additionalProperties": true },
          "nextTimerEvent": { "type": "integer", "format": "int64" },
          "rules": {
            "type": "array",
            "items": { "type": "object", "additionalProperties": true }
          }
        },
        "additionalProperties": false,
        "description": "Study object"
      },
      "Survey": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "surveyKey": { "type": "string" },
          "props": { "type": "object", "additionalProperties": true },
          "prefillRules": { "type": "array", "items": { "type": "object", "additionalProperties": true } },
          "contextRules": { "type": "object", "additionalProperties": true },
          "maxItemsPerPage": { "type": "object", "additionalProperties": true },
          "availableFor": { "type": "string" },
          "requireLoginBeforeSubmission": { "type": "boolean" },
          "published": { "type": "integer", "format": "int64" },
          "unpublished": { "type": "integer", "format": "int64" },
          "surveyDefinition": { "type": "object", "additionalProperties": true },
          "versionId": { "type": "string" },
          "metadata": { "type": "object", "additionalProperties": { "type": "string" } }
        },
        "additionalProperties": false,
        "description": "Survey object"
      },
      "StudyVariables": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "createdAt": { "type": "string", "format": "date-time" },
          "configUpdatedAt": { "type": "string", "format": "date-time" },
          "valueUpdatedAt": { "type": "string", "format": "date-time" },
          "studyKey": { "type": "string" },
          "key": { "type": "string" },
          "value": {
            "oneOf": [
              { "type": "string" },
              { "type": "integer" },
              { "type": "number" },
              { "type": "boolean" },
              { "type": "string", "format": "date-time" },
              { "type": "object", "additionalProperties": true },
              { "type": "array", "items": {} },
              { "type": "null" }
            ]
          },
          "type": { "type": "string", "enum": ["string", "int", "float", "boolean", "date"] },
          "label": { "type": "string" },
          "description": { "type": "string" },
          "uiType": { "type": "string" },
          "uiPriority": { "type": "integer" },
          "configs": { "type": "object", "additionalProperties": true }
        },
        "additionalProperties": false,
        "description": "Study variable object"
      },
      "Permission": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "subjectId": { "type": "string" },
          "subjectType": { "type": "string" },
          "resourceType": { "type": "string" },
          "resourceKey": { "type": "string" },
          "action": { "type": "string" },
          "limiter": { "type": "object", "additionalProperties": { "type": "string" } }
        },
        "additionalProperties": false,
        "description": "Permission object"
      },
      "AppRoleTemplate": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "appName": { "type": "string" },
          "role": { "type": "string" },
          "requiredPermissions": { "type": "array", "items": { "$ref": "#/components/schemas/Permission" } },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        },
        "additionalProperties": false,
        "description": "App role template object"
      },
      "ServiceUser": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "label": { "type": "string" },
          "description": { "type": "string" },
          "createdAt": { "type": "string", "format": "date-time" }
        },
        "additionalProperties": false
      },
      "ServiceUserAPIKey": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "serviceUserID": { "type": "string" },
          "key": { "type": "string" },
          "expiresAt": { "type": "string", "format": "date-time" },
          "createdAt": { "type": "string", "format": "date-time" },
          "lastUsedAt": { "type": "string", "format": "date-time" }
        },
        "additionalProperties": false
      },
      "StudyRules": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "studyKey": { "type": "string" },
          "uploadedAt": { "type": "integer" },
          "uploadedBy": { "type": "string" },
          "rules": { "type": "array", "items": { "type": "object", "additionalProperties": true } },
          "serialisedRules": { "type": "string" }
        },
        "additionalProperties": false,
        "description": "Study rules object"
      },
      "SurveyInfo": {
        "type": "object",
        "properties": {
          "key": { "type": "string" }
        }
      },
      "StudyCounter": {
        "type": "object",
        "properties": {
          "studyKey": { "type": "string" },
          "scope": { "type": "string" },
          "value": { "type": "integer" }
        },
        "additionalProperties": false,
        "description": "Study counter object"
      },
      "NotificationSubscription": {
        "type": "object",
        "properties": {
          "messageType": { "type": "string" },
          "email": { "type": "string" } 
        },
        "additionalProperties": false,
        "description": "Notification Subscription object"
      },
      "PaginationInfos": {
        "type": "object",
        "description": "Pagination information",
        "properties": {
          "totalCount": { "type": "integer" },
          "currentPage": { "type": "integer" },
          "totalPages": { "type": "integer" },
          "pageSize": { "type": "integer" }
        },
        "additionalProperties": false
      },
      "StudyCodeListEntry": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "studyKey": { "type": "string" },
          "listKey": { "type": "string" },
          "code": { "type": "string" },
          "addedAt": { "type": "string", "format": "date-time" },
        },
        "additionalProperties": false,
        "description": "Study Code List Entry object"
      },
      "EmailTemplate": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "messageType": { "type": "string" },
          "studyKey": { "type": "string" },
          "defaultLanguage": { "type": "string" },
          "headerOverrides": { "type": "object", "additionalProperties": true },
          "translations": { "type": "array", "items": { "type": "object", "additionalProperties": true } }
        },
        "additionalProperties": false,
        "description": "Email Template object"
      },
      "SmsTemplate": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "userID": { "type": "string" },
          "messageType": { "type": "string" },
          "sentAt": { "type": "string", "format": "date-time" },
          "phoneNumber": { "type": "string" }
        },
        "additionalProperties": false,
        "description": "SMS Template object"
      },
      "ScheduledEmail": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "template": { "$ref": "#/components/schemas/EmailTemplate" },
          "type": { "type": "string" },
          "studyKey": { "type": "string" },
          "condition": { "type": "object", "additionalProperties": true },
          "nextTime": { "type": "integer" },
          "period": { "type": "integer" },
          "label": { "type": "string" },
          "until": { "type": "integer" }
        },
        "additionalProperties": false,
        "description": "Scheduled Email object"
      },
      "Report": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "key": { "type": "string" },
          "participantID": { "type": "string" },
          "responseID": { "type": "string" },
          "timestamp": { "type": "integer" },
          "modifiedAt": { "type": "string", "format": "date-time" },
          "data": { "type": "array", "items": { "type": "object", "additionalProperties": true } }
        },
        "additionalProperties": false,
        "description": "Report object"
      },
      "ReportData": {
        "type": "object",
        "properties": {
          "key": { "type": "string" },
          "value": { "type": "string" },
          "dtype": { "type": "string" }
        },
        "additionalProperties": false
      },
      "Task": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "createdAt": { "type": "string", "format": "date-time"  },
          "createdBy": { "type": "string" },
          "updatedAt": { "type": "string", "format": "date-time"  },
          "status": { "type": "string" },
          "targetCount": { "type": "integer" },
          "processedCount": { "type": "integer" },
          "resultFile": { "type": "string" },
          "fileType": { "type": "string" },
          "error": { "type": "string" }
        },
        "additionalProperties": true
      },
      "FileInfo": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "participantID": { "type": "string" },
          "uploadedBy": { "type": "string" },
          "path": { "type": "string" },
          "previewPath": { "type": "string" },
          "subStudy": { "type": "string" },
          "submittedAt": { "type": "integer" },
          "fileType": { "type": "string" },
          "visibleToParticipant": { "type": "boolean" },
          "name": { "type": "string" },
          "size": { "type": "integer" },
          "referencedIn": { "type": "array", "items": { "type": "object", "additionalProperties": true } }
        },
        "additionalProperties": false,
        "description": "File Info object"
      },
      "AppRole": {
         "type": "object",
         "properties": {
           "id": { "type": "string", "description": "ObjectID" },
           "subjectId": { "type": "string" },
           "subjectType": { "type": "string" },
           "appName": { "type": "string" },
           "role": { "type": "string" },
           "createdAt": { "type": "string", "format": "date-time" },
         },
       },
      "SurveyVersionPreview": {
         "type": "object",
         "properties": {
           "versionID": { "type": "string" },
           "published": { "type": "integer" },
           "unpublished": { "type": "integer" },
           "questions": { "type": "object", "additionalProperties": true }
         },
       },
      "Participant": {
         "type": "object",
         "description": "Participant object",
         "properties": {
           "id": { "type": "string", "description": "ObjectID" },
           "participantId": { "type": "string" },
           "currentStudySession": { "type": "string" },
           "modifiedAt": { "type": "integer" },
           "enteredAt": { "type": "integer" },
           "studyStatus": { "type": "string" },
           "flags": { "type": "object", "additionalProperties": { "type": "string" } },
           "linkingCodes": { "type": "object", "additionalProperties": { "type": "string" } },
          "assignedSurveys": { "type": "array", "items": { "$ref": "#/components/schemas/AssignedSurvey" } },
           "lastSubmissions": { "type": "object", "additionalProperties": { "type": "integer" } },
           "messages": { "type": "array", "items": { "type": "object", "additionalProperties": true } }
         },
         "required": ["participantId"],
         "additionalProperties": false
       },
        "AssignedSurvey": {
          "type": "object",
          "description": "Assigned survey object",
          "properties": {
            "studyKey": { "type": "string" },
            "surveyKey": { "type": "string" },
            "validFrom": { "type": "integer" },
            "validUntil": { "type": "integer" },
            "category": { "type": "string" },
            "profileID": { "type": "string" }
          },
          "required": ["studyKey", "surveyKey"],
          "additionalProperties": false
        },
      "SurveyResponse": {
        "type": "object",
        "description": "Survey response",
        "properties": {
          "id": { "type": "string", "description": "ObjectID" },
          "key": { "type": "string" },
          "participantId": { "type": "string" },
          "versionId": { "type": "string" },
          "openedAt": { "type": "integer" },
          "submittedAt": { "type": "integer" },
          "arrivedAt": { "type": "integer" },
          "responses": { "type": "array", "items": { "type": "object", "additionalProperties": true } },
          "context": { "type": "object", "additionalProperties": { "type": "string" } }
        },
        "required": ["key"],
        "additionalProperties": false
      },      
      "ManagementUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "MongoDB ObjectID as hex string"
          },
          "sub": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "username": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          },
          "imageUrl": {
            "type": "string",
            "format": "uri"
          },
          "isAdmin": {
            "type": "boolean"
          },
          "lastLoginAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "Management User object"
      }
  }
  }
}
